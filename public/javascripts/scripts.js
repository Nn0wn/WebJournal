$(()=>{let e=!0;$(".switch-ref").on("click",t=>{t.preventDefault(),$("p.error").remove(),$("input").removeClass("error"),$("input").val(""),e?(e=!1,$(".register").show("slow"),$(".login").hide("slow")):(e=!0,$(".login").show("slow"),$(".register").hide("slow"))}),$("input").on("focus",()=>{$("p.error").remove(),$("input").removeClass("error")}),$(".login-button").on("click",e=>{e.preventDefault(),$("p.error").remove(),$("input").removeClass("error");const t={email:$("#log-email").val(),password:$("#log-password").val()};$.ajax({type:"POST",data:JSON.stringify(t),contentType:"application/json",url:"/auth/login"}).done(e=>{e.ok?$(window.location).attr("href","/"):($(".login h1").after(`<p class="error">${e.error}</p>`),e.fields&&e.fields.forEach(e=>{$(`input[name=${e}]`).addClass("error")}))})})}),$(()=>{$(".search-button").on("click",e=>{e.preventDefault();const t={fio:$("#fio").val(),fakult:$("#fakult").val(),course:$("#course").val(),spec:$("#spec").val()};console.log(t),$.ajax({type:"POST",data:JSON.stringify(t),contentType:"application/json",url:"/search/students"}).done(e=>{console.log(e),$(".table-body-td").remove(),$("th").css("width","1000px"),$(".table-head-th-0").css("width","8px"),Object.entries(e.data).reverse().forEach(e=>{console.log(e[1].id),$(".table-body").after(`<tr class="table-body-td"><th>${e[0]}</th><td><a href="/students/${e[1]._id}">${`${e[1].studentProfile.name} ${e[1].studentProfile.surname} ${e[1].studentProfile.patronymic}`}</a></td><td>${e[1].studentProfile.fakult}</td><td>${e[1].studentProfile.course}</td><td>${e[1].studentProfile.spec}</td></tr>`)})})})});